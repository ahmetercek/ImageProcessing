# Hope You All Like It
# Email- namah123jain@gmail.com
# Video Link- https://youtu.be/EqqC88QszOc
# channel-link:- https://www.youtube.com/channel/UCUGAq4ALoWW4PDU6Cm1riSg
# Developer:-Namah Jain (All About Code)

# Imports:---------
# install all of them using pip
from tkinter import *  # Comes Defalut With Python3
from tkinter import filedialog as fd
from tkinter import messagebox as ms
import PIL  # Install Using PIP
from PIL import ImageTk, Image
#################################
##### Operation Classes Imports
#################################
from Image_Enhancement import Image_Enhancement
from Intensity_Operations import Intensity_Operations
from Morphological_Operations import Morphological_Operations
from Image_Filters import Image_Filters
from Transform_Operations import Transform_Operations
from Histogram_Operations import Histogram_Operations



# Main Class Object



class application:
    def __init__(self, master):
        self.master = master
        self.c_size = (700, 500)
        self.setup_gui(self.c_size)
        self.img = None

    def setup_gui(self, s):
        Label(self.master, text='Image Viewer', pady=5, bg='white',
              font=('Ubuntu', 30)).pack()
        self.canvas = Canvas(self.master, height=s[1], width=s[0],
                             bg='black', bd=10, relief='ridge')
        self.canvas.pack()
        txt = '''
                  !
            No Image
        '''
        self.wt = self.canvas.create_text(s[0] / 2 - 270, s[1] / 2, text=txt
                                          , font=('', 30), fill='white')
        f = Frame(self.master, bg='white', padx=10, pady=10)
        b1 = Button(f, text='Open New Image', bd=2, fg='white', bg='black', font=('', 15)
               , command=self.make_image).pack(side=TOP)
        Button(f, text='Enhancement And Filters', bd=2, fg='white', bg='black', font=('', 15)
               , command=self.Image_Enhancement).pack(side=LEFT)
        Button(f, text='Histogram Operations', bd=2, fg='white', bg='black', font=('', 15)
               , command=self.Histogram_Operations).pack(side=LEFT)
        Button(f, text='Transform Operations', bd=2, fg='white', bg='black', font=('', 15)
               , command=self.Transform_Operations).pack(side=LEFT)
        Button(f, text='Intensity Operations', bd=2, fg='white', bg='black', font=('', 15)
               , command=self.Intensity_Operations).pack(side=LEFT)
        Button(f, text='Morphological Operations', bd=2, fg='white', bg='black', font=('', 15)
               , command=self.Morphological_Operations).pack(side=LEFT)
        f.pack()
        self.status = Label(self.master, text='Current Image: None', bg='gray',
                            font=('Ubuntu', 15), bd=2, fg='black', relief='sunken', anchor=W)
        self.status.pack(side=BOTTOM, fill=X)

    def make_image(self):
        try:
            File = fd.askopenfilename()
            self.pilImage = Image.open(File)
            re = self.pilImage.resize((700, 500), Image.ANTIALIAS)
            self.img = ImageTk.PhotoImage(re)
            self.canvas.delete(ALL)
            self.canvas.create_image(self.c_size[0] / 2 + 10, self.c_size[1] / 2 + 10,
                                     anchor=CENTER, image=self.img)
            self.status['text'] = 'Current Image:' + File
        except:
            ms.showerror('Error!', 'File type is unsupported.')

    def Image_Enhancement(self):
        try:
            enchancement = Image_Enhancement()

        except:
            ms.showerror('Error!', 'File type is unsupported.')

    def Image_Filters(self):
        try:
            filters = Image_Filters()
        except:
            ms.showerror('Error!', 'File type is unsupported.')
    def Histogram_Operations(self):
        try:
            histogram = Histogram_Operations()
        except:
            ms.showerror('Error!', 'File type is unsupported.')
    def Transform_Operations(self):
        try:
            transform = Transform_Operations()
        except:
            ms.showerror('Error!', 'File type is unsupported.')
    def Intensity_Operations(self):
        try:
            intensity = Intensity_Operations()
        except:
            ms.showerror('Error!', 'File type is unsupported.')
    def Morphological_Operations(self):
        try:
            morp = Morphological_Operations()
        except:
            ms.showerror('Error!', 'File type is unsupported.')

# creating object of class and tk window-
root = Tk()
root.configure(bg='white')
root.title('Image Processing Project 1')
root.geometry("1500x700")
application(root)
root.resizable(0, 0)
root.mainloop()

#window.filename =  filedialog.askopenfilename(initialdir = "/",title = "Select file",filetypes = (("jpeg files","*.jpg"),("all files","*.*")))









#import cv2
#import numpy as np
#resim = cv2.imread("coin.jpg")
#cv2.imshow("Coin Image",resim)
#cv2.waitKey(0)
#cv2.destroyAllWindows()